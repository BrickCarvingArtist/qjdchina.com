webpackJsonp([7],{0:function(e,t,n){"use strict";var r=n(301),a=n(154);(0,r.init)(a.render)},178:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),c=r(l),s=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state=e,n.handleChange=function(e){var t=n.state,r=t.index,a=t.userClass,o=(a.state.selectIndex||[]).filter(function(e,t){return r>t});o[r]=e.target.value,a.setState({selectIndex:o},function(){var e=a.getCompleteStatus();e?a.state.callback(e,a.getSelectIndex()):a.state.callback(e)})},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.state;e.userClass.state["default"]&&this.handleChange({target:{value:Object.keys(e.option)[0]}})}},{key:"componentWillReceiveProps",value:function(e){this.setState(e)}},{key:"render",value:function(){var e=[],t=this.state,n=t.option,r=t.userClass;for(var a in n)e.push(c["default"].createElement("option",{value:a,key:a},n[a]));return r.state["default"]||e.splice(0,0,c["default"].createElement("option",{value:0,key:0},"请选择")),c["default"].createElement("select",{onChange:this.handleChange},e)}}]),t}(l.Component),f=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state=e,n.getPureSelect=function(e,t){return e[t]},n.getCompleteStatus=function(){var e=n.state.selectIndex;switch(n.state.checkType){case"single":return e.length&&e[0];case"region":return e[1]&&6===e[1].length||e[2]&&6===e[2].length;case"manufacturer":return 2===e.length&&e[1]}},n.getSelectIndex=function(){var e=n.state.selectIndex;return"region"===n.state.checkType&&(e[2]=e[2]||e[1],e[1]=(e[2]||e[1]).slice(0,4),e[0]=e[1].slice(0,2)),e},n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(e)}},{key:"render",value:function(){var e=this,t=[],n=this.state,r=n.option,a=n.selectIndex;return r.map(function(n,r){n.filter(function(e,t){return e instanceof Object}).length?a&&a.map(function(a,o){var i=e.getPureSelect(n,a);i&&t.splice(r,1,c["default"].createElement(s,{option:i,key:r,userClass:e,index:r}))}):t.push(c["default"].createElement(s,{option:n,key:r,userClass:e,index:r}))}),c["default"].createElement("div",{className:"selectGroup"+(n["default"]?" disabled":"")},t)}}]),t}(l.Component);t["default"]=f},301:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){return Array.isArray(e)?e:Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.init=t.Page=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),s=r(c),f=n(155),d=n(165),p=n(302),h=n(168),m=n(172),v=r(m),y=n(178),g=r(y),b=n(169),C=r(b),w=n(176),S=r(w),k=n(175),E=r(k),x=(0,f.createStore)(function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];if(e[t.type])for(var n in t)e[t.type][n]=t[n];else e[t.type]=t;return e}),O=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));n.state={};var r=x.getState().dialog.component,u=function(e){return n.refs[e].refs.ipt.value},l=function(e,t){return e[t]},c=function(e){var t=a(e),n=t,r={categoryCode:n[0],supplierId:n[1]};return r};n.handleStreet=function(){return 0},n.getArea=function(e,t,r){var a=n.state.areaConfig,o=a[0],i=a[1],u=a[2],l=[],c=[],s=[];return l[e]=o[e],c[t]=i[e][t],s[r]=(u[t]||i[e])[r],c[t]?[l,c,s]:[l,s]};var s=void 0,f=void 0,d=void 0,p=void 0,m=void 0,v=void 0,y=void 0,g=void 0,b=void 0;return n.handleSubmit=function(){var e=n.state.arrAddress,t=n.refs.manufacturer.state.selectIndex;g=u("corp"),d=u("ic"),f=u("contact"),s=u("mobile"),y=l(e,0),v=l(e,1),m=l(e,2),p=n.refs.street.value,b=c(t),$.ajax({type:"post",url:"/api/user/join",data:{mobile:s,contactName:f,cats:JSON.stringify([b]),regCode:d,address:p,areaCode:m,cityCode:v,provinceCode:y,corpName:g}}).done(function(e){(0,h.afterSign)(e,function(e){location.href="/manage/corporation?step=1"},r)}).fail(function(e){(0,h.xhrTimeout)("申请会员",r)})},n}return u(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=x.getState().dialog.component,r=[],a=[],o=(0,d.parse)(location.search.substr(1));5===Object.keys(o).length?(this.setState({info:o,corp:o.companyName,street:o.address}),n.e(4,function(t){var r=n(298),a=[];for(var o in r)a.push(r[o]);e.setState({areaConfig:a})}),$.ajax({url:"/api/user/supplier/category",timeout:2e3}).done(function(n){(0,h.afterSign)(n,function(n){n.data.map(function(e,t){r[e.value]=e.label,a[e.value]=[]}),$.ajax({url:"/api/user/supplier/list",timeout:2e3}).done(function(n){(0,h.afterSign)(n,function(t){t.data.map(function(e,t){a[e.categoryCode][e.id]=e.name}),e.setState({manufacturers:[r,a]})},t)}).fail(function(e){(0,h.xhrTimeout)("合作厂家列表",t)})},t)}).fail(function(e){(0,h.xhrTimeout)("合作厂家所属品类",t)})):t.setState({option:{title:{iconClassName:"info",name:"温馨提示",btnClose:function(){location.href="https://"+p.HostConfig.subDomain+".zhuozhuwang.com/loan/corp?refer="+location.href}},message:"认证申请未提交，请重新申请认证！"},isShow:1})}},{key:"render",value:function(){var e=this,t=[],n=this.state,r=this.props.option,a=n.areaConfig||[],o=n.manufacturers,i=n.info;return r.map(function(r,u){r.type?t.push(s["default"].createElement(v["default"],{option:r,key:u,ref:r.id,value:n[r.id]})):("address"===r.id&&t.push(s["default"].createElement("div",{className:"row",key:u},s["default"].createElement("label",{htmlFor:r.id},r.label),s["default"].createElement(g["default"],{id:r.id,"default":i,option:i&&a.length?e.getArea(i.provinceCode,i.cityCode,i.areaCode):a,checkType:"region",ref:r.id,callback:function(t,n){e.setState({showAddress:t,arrAddress:n})}}),n.showAddress?s["default"].createElement("input",{className:"ipt-txt single"+(n.street?" disabled":""),placeholder:"请输入"+r.label,ref:"street",value:n.street,onChange:e.handleStreet}):[])),"manufacturer"===r.id&&o&&t.push(s["default"].createElement("div",{className:"row",key:u},s["default"].createElement("label",{htmlFor:r.id},r.label),s["default"].createElement(g["default"],{id:r.id,option:o,ref:r.id,checkType:"manufacturer",callback:function(t,n){e.setState({completeStatus:t,selectIndex:n})}}))))}),s["default"].createElement("form",null,s["default"].createElement("div",{className:"w1000"},s["default"].createElement("h1",null,"立刻申请仟金顶会员，尊享仟金顶优质服务"),t,s["default"].createElement("input",{className:"singleBtn",type:"button",value:"提交申请,去上传资料",onClick:this.handleSubmit})))}}]),t}(c.Component);O.defaultProps={option:[{type:1,id:"corp",className:"ipt-txt",label:"公司名称"},{type:0,id:"address",label:"联系地址"},{type:1,id:"ic",className:"ipt-txt",label:"工商注册号",maxlength:18},{type:0,id:"manufacturer",label:"合作厂家"},{type:1,id:"contact",className:"ipt-txt",label:"联系人"},{type:1,id:"mobile",className:"ipt-txt",label:"手机号",maxlength:11}]};var j=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"page"},s["default"].createElement(E["default"],{store:x}),s["default"].createElement(C["default"],{store:x}),s["default"].createElement(O,null),s["default"].createElement(S["default"],null))}}]),t}(c.Component),P=function(e){e(s["default"].createElement(j,null),document.querySelector(".main"))};t.Page=j,t.init=P},302:function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={host:"127.0.0.1",port:2e4},r={port:3e3},a={subDomain:"dev2",hostName:"dev2.qjdchina.com",host:"10.1.1.62",port:80},o={host:"10.1.1.62",port:6379},i={path:e.cwd()+"/src/upload/"},u={path:e.cwd()+"/log/"};t.WebpackDevServerConfig=n,t.ServerConfig=r,t.HostConfig=a,t.RedisConfig=o,t.UploadConfig=i,t.LogConfig=u}).call(t,n(303))},303:function(e,t){"use strict";function n(){c=!1,i.length?l=i.concat(l):s=-1,l.length&&r()}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=l.length;t;){for(i=l,l=[];++s<t;)i&&i[s].run();s=-1,t=l.length}i=null,c=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function o(){}var i,u=e.exports={},l=[],c=!1,s=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new a(e,t)),1!==l.length||c||setTimeout(r,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}}});